# ğŸ“¢ HÆ°á»›ng Dáº«n Há»‡ Thá»‘ng ThÃ´ng BÃ¡o Æ¯u ÄÃ£i & Sá»± Kiá»‡n

## ğŸ¯ Tá»•ng Quan

Há»‡ thá»‘ng thÃ´ng bÃ¡o cho phÃ©p admin gá»­i thÃ´ng bÃ¡o vá» Æ°u Ä‘Ã£i, sá»± kiá»‡n, khuyáº¿n mÃ£i Ä‘áº¿n ngÆ°á»i dÃ¹ng. NgÆ°á»i dÃ¹ng chá»‰ cÃ³ thá»ƒ **xem** thÃ´ng bÃ¡o, khÃ´ng thá»ƒ tráº£ lá»i hay tÆ°Æ¡ng tÃ¡c.

## ğŸ‘¨â€ğŸ’¼ DÃ nh Cho Admin

### Quáº£n LÃ½ ThÃ´ng BÃ¡o

1. ÄÄƒng nháº­p vÃ o trang admin
2. VÃ o menu **"ThÃ´ng bÃ¡o"** trÃªn sidebar
3. Xem thá»‘ng kÃª:
   - Tá»•ng sá»‘ thÃ´ng bÃ¡o Ä‘Ã£ gá»­i
   - Sá»‘ thÃ´ng bÃ¡o chÆ°a Ä‘á»c
   - Sá»‘ thÃ´ng bÃ¡o Ä‘Ã£ Ä‘á»c
4. Xem danh sÃ¡ch thÃ´ng bÃ¡o Ä‘Ã£ gá»­i vá»›i thÃ´ng tin:
   - Loáº¡i thÃ´ng bÃ¡o
   - TiÃªu Ä‘á» vÃ  ná»™i dung
   - NgÆ°á»i nháº­n
   - Tráº¡ng thÃ¡i (Ä‘Ã£ Ä‘á»c/chÆ°a Ä‘á»c)
   - Thá»i gian gá»­i
5. XÃ³a thÃ´ng bÃ¡o náº¿u cáº§n

### Gá»­i ThÃ´ng BÃ¡o Má»›i

1. Tá»« trang **"ThÃ´ng bÃ¡o"**, nháº¥n **"Gá»­i thÃ´ng bÃ¡o má»›i"**
   
   HOáº¶C
   
   VÃ o menu **"Gá»­i thÃ´ng bÃ¡o"** trÃªn sidebar

2. Chá»n loáº¡i thÃ´ng bÃ¡o:
   - **Æ¯u Ä‘Ã£i** ğŸ: Khuyáº¿n mÃ£i, giáº£m giÃ¡
   - **Há»‡ thá»‘ng** â„¹ï¸: ThÃ´ng bÃ¡o há»‡ thá»‘ng, báº£o trÃ¬
   - **Sáº£n pháº©m** ğŸ“¦: Sáº£n pháº©m má»›i, hÃ ng vá»
   - **ÄÆ¡n hÃ ng** ğŸ›’: ThÃ´ng bÃ¡o vá» Ä‘Æ¡n hÃ ng

3. Nháº­p thÃ´ng tin:
   - **TiÃªu Ä‘á»**: Ngáº¯n gá»n, thu hÃºt
   - **Ná»™i dung**: MÃ´ táº£ chi tiáº¿t
   - **Link**: (TÃ¹y chá»n) Link Ä‘áº¿n trang sáº£n pháº©m, danh má»¥c...
   - **Gá»­i Ä‘áº¿n**: Chá»n táº¥t cáº£ hoáº·c ngÆ°á»i dÃ¹ng cá»¥ thá»ƒ

4. Nháº¥n **"Gá»­i ThÃ´ng BÃ¡o"**

### VÃ­ Dá»¥ ThÃ´ng BÃ¡o

**Æ¯u Ä‘Ã£i:**
- TiÃªu Ä‘á»: "ğŸ‰ Flash Sale 50% - Chá»‰ hÃ´m nay!"
- Ná»™i dung: "Giáº£m giÃ¡ 50% táº¥t cáº£ sáº£n pháº©m Ä‘iá»‡n thoáº¡i. Nhanh tay Ä‘áº·t hÃ ng!"
- Link: `products.php?category=dien-thoai`

**Sáº£n pháº©m má»›i:**
- TiÃªu Ä‘á»: "ğŸ“± iPhone 15 Pro Max vá»«a vá» hÃ ng!"
- Ná»™i dung: "Sáº£n pháº©m hot nháº¥t nÄƒm Ä‘Ã£ cÃ³ táº¡i KIENANSHOP. Äáº·t hÃ ng ngay!"
- Link: `product-detail.php?id=123`

## ğŸ‘¤ DÃ nh Cho NgÆ°á»i DÃ¹ng

### Xem ThÃ´ng BÃ¡o

1. ÄÄƒng nháº­p vÃ o tÃ i khoáº£n
2. Nháº¥n vÃ o biá»ƒu tÆ°á»£ng ğŸ”” trÃªn header
3. Xem danh sÃ¡ch thÃ´ng bÃ¡o tá»« admin
4. Nháº¥n **"ÄÃ£ Ä‘á»c"** Ä‘á»ƒ Ä‘Ã¡nh dáº¥u Ä‘Ã£ xem

### LÆ°u Ã

- NgÆ°á»i dÃ¹ng **chá»‰ xem Ä‘Æ°á»£c** thÃ´ng bÃ¡o, khÃ´ng thá»ƒ tráº£ lá»i
- ThÃ´ng bÃ¡o chÆ°a Ä‘á»c sáº½ cÃ³ dáº¥u hiá»‡u Ä‘áº·c biá»‡t (mÃ u ná»n khÃ¡c)
- Sá»‘ thÃ´ng bÃ¡o chÆ°a Ä‘á»c hiá»ƒn thá»‹ trÃªn icon ğŸ””

## ğŸ”§ Ká»¹ Thuáº­t

### PhÃ¢n Biá»‡t Loáº¡i ThÃ´ng BÃ¡o

Há»‡ thá»‘ng sá»­ dá»¥ng cá»™t `user_type` vÃ  `type` Ä‘á»ƒ phÃ¢n biá»‡t:

- `user_type = 'admin'`: ThÃ´ng bÃ¡o tá»« admin
- `user_type = 'user'`: ThÃ´ng bÃ¡o liÃªn há»‡ cá»§a user
- `type IN ('promotion', 'system', 'order', 'product')`: CÃ¡c loáº¡i thÃ´ng bÃ¡o hiá»ƒn thá»‹

### File LiÃªn Quan

- `admin/notifications.php`: Quáº£n lÃ½ thÃ´ng bÃ¡o (admin)
- `admin/send_notification.php`: Gá»­i thÃ´ng bÃ¡o (admin)
- `notifications.php`: Xem thÃ´ng bÃ¡o (user)
- `get_user_notifications.php`: API láº¥y thÃ´ng bÃ¡o
- `assets/js/notification-checker.js`: Kiá»ƒm tra thÃ´ng bÃ¡o má»›i

### Cáº¥u TrÃºc Báº£ng

```sql
CREATE TABLE thongbao (
    id INT PRIMARY KEY AUTO_INCREMENT,
    user_id INT NOT NULL,
    user_type ENUM('user', 'admin') DEFAULT 'user',
    type VARCHAR(50),
    title VARCHAR(255),
    message TEXT,
    link VARCHAR(255),
    is_read TINYINT(1) DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

## âœ… Checklist Triá»ƒn Khai

- [x] Táº¡o trang quáº£n lÃ½ thÃ´ng bÃ¡o cho admin
- [x] Táº¡o trang gá»­i thÃ´ng bÃ¡o cho admin
- [x] ThÃªm menu vÃ o sidebar admin vá»›i badge sá»‘ chÆ°a Ä‘á»c
- [x] Lá»c thÃ´ng bÃ¡o chá»‰ tá»« admin
- [x] Loáº¡i bá» nÃºt tráº£ lá»i/tÆ°Æ¡ng tÃ¡c
- [x] Hiá»ƒn thá»‹ Ä‘Ãºng sá»‘ thÃ´ng bÃ¡o chÆ°a Ä‘á»c
- [x] Thá»‘ng kÃª thÃ´ng bÃ¡o (tá»•ng, Ä‘Ã£ Ä‘á»c, chÆ°a Ä‘á»c)
- [x] TÃ­nh nÄƒng xÃ³a thÃ´ng bÃ¡o
- [x] Táº¡o hÆ°á»›ng dáº«n sá»­ dá»¥ng

## ğŸ¨ Giao Diá»‡n

- ThÃ´ng bÃ¡o chÆ°a Ä‘á»c: Ná»n mÃ u há»“ng nháº¡t, viá»n trÃ¡i mÃ u há»“ng
- Icon theo loáº¡i: Æ¯u Ä‘Ã£i (vÃ ng), Há»‡ thá»‘ng (tÃ­m), Sáº£n pháº©m (xanh), ÄÆ¡n hÃ ng (xanh lÃ¡)
- NÃºt "ÄÃ£ Ä‘á»c" Ä‘á»ƒ Ä‘Ã¡nh dáº¥u
- Hiá»ƒn thá»‹ thá»i gian tÆ°Æ¡ng Ä‘á»‘i (vá»«a xong, 5 phÃºt trÆ°á»›c...)

---

**LÆ°u Ã½:** Há»‡ thá»‘ng nÃ y chá»‰ dÃ nh cho thÃ´ng bÃ¡o má»™t chiá»u tá»« admin Ä‘áº¿n user. Náº¿u cáº§n trao Ä‘á»•i hai chiá»u, sá»­ dá»¥ng há»‡ thá»‘ng tin nháº¯n/liÃªn há»‡ riÃªng.
